# Инструкция по установке и настройке плагина

> Всю инструкцию можно и нужно выполнять в процессе прочтения.

## Часть первая. Сбор данных для настроек.

> Все собранные данные лучше сразу сохранять в отельный текстовый файл. Позже мы будем копировать и вставлять данные.

Вам понадобится собрать следущие данные:
1. Токен и имя телегарм бота
2. ID аккаунта телеграм (администратор магазина)
3. Секретный ключ от API QIWI
4. Данные настроек RCON сервера

### Токен и имя телегарм бота
Откройте телеграм и в поиске найдите бота @BotFather

![Телеграм поиск](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_1.png "Телеграм поиск")

или перейдите по ссылке -> https://t.me/BotFather

1) В открывшемся боте отправьте сообщение с командой "/newbot".
Вас попросять указать имя бота, отображаемое пользователям.
2) Придумывайте и отправляйте сообщение.
Далее нас попросят указать имя бота, которое должно заканчиваться на буквы "bot". Это имя является частью ссылки на Вашего бота. Это имя понадобится для настроек плагина.
3) Придумываем имя и отправляем сообщение.

![Регистрация бота](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_4.png "Регистрация бота")

> Я, для тестового бота, использовал ZAutoTest_bot.
Ссылка на бота будет выглядеть как https://t.me/ZAutoTest_bot
В поиске телеграм его можно будет найти по @ZAutoTest_bot

Если имена небыли заняты, то Вы получите сообщение с токеном бота.
В текстовый файл, который Вы конечно уже создали копируем токен бота и имя бота. Ниже на скриншоте наглядно показано кто где.
> Кстати, будет удобнее, если разделять данные.
Просто каждый раз с новой строки начинайте))

![Данные бота](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_5.png "Данные бота")


### ID аккаунта телеграм (администратор магазина)
Доступ к администрированию магазина будет только у телеграм аккаунта с этим ID.
Узнать ID аккаунта очень просто. Найдите в поиске телеграм @getmyid_bot или просто перейдите по ссылке -> https://t.me/getmyid_bot

В открывшемся боте нажмите кнопку "ЗАПУСТИТЬ" 

![Кнопка запустить](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_6.png "Кнопка запустить")

и бот пришлет Ваш ID.

![ID аккаунта](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_7.png "ID аккаунта")

> Скопируйте и вставьте ID в Ваш текстовый файл. ID помечен красным прямоугольником на скриншоте выше.

### Секретный ключ от API QIWI
Если у Вас еще нет киви кошелька - создайте его (https://qiwi.com/).
Перейдите по ссылке -> https://p2p.qiwi.com
На странице Вы увидите следущее

![киви1](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_8.png "киви1")

Нажмите кнопку "Начать прием платежей"
Если Вы не авторизированы на сайте - Вас попросят авторизироваться

![киви2](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_9.png "киви2")

Авторизируйтесь и найдите вкладку API (помечена красным прямоугольником)

![киви3](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_10.png "киви3")

Чуть ниже на странице найдите

![киви4](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_11.png "киви4")

Нажмите кнопку настроить и увидите

![киви 5](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_12.png "киви 5")

Введите любое имя и нажмите кнопку "создать"

![киви6](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_13.png "киви6")

Киви создаст два ключа. Вам нужен тот, который называется "секретный ключ"

![киви7](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_14.png "киви7")

Нажмите "скопировать в буфер" и вставьте в Ваш тестовый файл. Потом нажмите кнопку "далее".

### Данные настроек RCON сервера
Тут в целом все ясно. Настройте доступ к Вашему игровому серверу по протоколу RCON.
Для настроек понадобятся:
1. rcon ip адрес
2. rcon порт
3. rcon пароль

Эти данные берем из server.properties Вашего игрового сервера.

## Часть вторая. Установка плагина и ввод настроек.
Скачивайте zoommax_autodonate.jar и кладите его в папку plugins Вашего сервера.
[Скачать плагин](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/releases "Скачать плагин")
Запустите терминал (если у Вас Linux) или PowerShell (если у Вас Windows).
Перейдите в терминале/PowerShell в папку plugins Вашего сервера
Выполните команду

`
java -jar zoommax_autodonate.jar
`

Начнется установка. Плагин создаст все необходимые для своей работы папки и файлы, а также попросит указать собранные Вами данные.

![установка](https://github.com/ZooMMaX/ZooMMaX-Autodonate-plugin/raw/main/Screenshot_15.png "установка")

**Установка и настройка завершены. Можете запускать/перезапускать игровой сервер**
